package services;


import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;
import java.nio.charset.StandardCharsets;

import static org.mockito.Mockito.*;
import static org.junit.Assert.assertEquals;
import static org.mockito.ArgumentMatchers.any;
import static org.mockito.Mockito.doReturn;
import org.mockito.Mock;
import org.mockito.Spy;
import org.mockito.MockedStatic;
import org.mockito.Mockito;

import com.fasterxml.jackson.databind.ObjectMapper;

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.CompletableFuture;
import java.util.concurrent.ExecutionException;

import org.junit.Test;

import dao.FreelancerResult;
import dao.Project;
import dao.Result;

/**
 * This class is used to test FreelancerAPIcallsService
 * @author Vaibhav Verma
 * @version 1.0
 * @since 1.0
 */
public class FreelancerAPIcallsServiceTest {
	
	/**
	 * This method is used to test FreelancerAPIcallsService
	 * @author Vaibhav Verma
	 * @version 1.0
	 * @since 1.0
	 * @throws IOException when it occurs
	 * @throws ExecutionException when it occurs
	 * @throws InterruptedException when it occurs
	 */
	@Test 
	public void testGetActiveProjects() throws IOException , InterruptedException, ExecutionException {
		String json = "\"{\\\"status\\\":\\\"success\\\",\\\"result\\\":{\\\"projects\\\":[{\\\"id\\\":33257754,\\\"owner_id\\\":61301431,\\\"title\\\":\\\"FIMUS (Framework Of Imputing Missing Values Using Co-appearance, Correlation and Similarity Analysis \\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/FIMUS-Framework-Imputing-Missing-Values\\\",\\\"currency\\\":{\\\"id\\\":9,\\\"code\\\":\\\"CAD\\\",\\\"sign\\\":\\\"$\\\",\\\"name\\\":\\\"Canadian Dollar\\\",\\\"exchange_rate\\\":0.793311,\\\"country\\\":\\\"CA\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":false},\\\"jobs\\\":[{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":92,\\\"name\\\":\\\"Algorithm\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"algorithm\\\",\\\"local\\\":false},{\\\"id\\\":119,\\\"name\\\":\\\"Statistics\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"statistics\\\",\\\"local\\\":false},{\\\"id\\\":292,\\\"name\\\":\\\"Machine Learning (ML)\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"machine_learning\\\",\\\"local\\\":false},{\\\"id\\\":334,\\\"name\\\":\\\"Data Mining\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"data_mining\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647810638,\\\"preview_description\\\":\\\"This project is from the data analytics sector and we want python code to perform the imputation of \\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":30,\\\"maximum\\\":250},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":3,\\\"bid_avg\\\":176.66666666666666},\\\"time_submitted\\\":1647810638,\\\"time_updated\\\":1647810638,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647817828,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33257466,\\\"owner_id\\\":27127619,\\\"title\\\":\\\"Looking for PYTHON developer for an app fix\\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/Looking-for-PYTHON-developer-for-33257466\\\",\\\"currency\\\":{\\\"id\\\":8,\\\"code\\\":\\\"EUR\\\",\\\"sign\\\":\\\"\\u20ac\\\",\\\"name\\\":\\\"Euro\\\",\\\"exchange_rate\\\":1.105965,\\\"country\\\":\\\"EU\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":true},\\\"jobs\\\":[{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":55,\\\"name\\\":\\\"Excel\\\",\\\"category\\\":{\\\"id\\\":4,\\\"name\\\":\\\"Data Entry & Admin\\\"},\\\"seo_url\\\":\\\"excel\\\",\\\"local\\\":false},{\\\"id\\\":95,\\\"name\\\":\\\"Web Scraping\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"web_scraping\\\",\\\"local\\\":false},{\\\"id\\\":334,\\\"name\\\":\\\"Data Mining\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"data_mining\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647807177,\\\"preview_description\\\":\\\"I have an small application made on Python which worked excellent until data source was updated to n\\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":30,\\\"maximum\\\":250},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":10,\\\"bid_avg\\\":244},\\\"time_submitted\\\":1647807177,\\\"time_updated\\\":1647807177,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647813052,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33257217,\\\"owner_id\\\":55074624,\\\"title\\\":\\\"build application with kivy,python and  buildozer \\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/build-application-with-kivy-python\\\",\\\"currency\\\":{\\\"id\\\":8,\\\"code\\\":\\\"EUR\\\",\\\"sign\\\":\\\"\\u20ac\\\",\\\"name\\\":\\\"Euro\\\",\\\"exchange_rate\\\":1.105965,\\\"country\\\":\\\"EU\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":true},\\\"jobs\\\":[{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":59,\\\"name\\\":\\\"Android\\\",\\\"category\\\":{\\\"id\\\":9,\\\"name\\\":\\\"Mobile Phones & Computing\\\"},\\\"seo_url\\\":\\\"android\\\",\\\"local\\\":false},{\\\"id\\\":2158,\\\"name\\\":\\\"Android App Development\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"android_app_development\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647805068,\\\"preview_description\\\":\\\"I try to make a application with python and kivy for Android and Ios but in build cause erorrs so I \\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":8,\\\"maximum\\\":30},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":3,\\\"bid_avg\\\":172},\\\"time_submitted\\\":1647805068,\\\"time_updated\\\":1647805068,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647801467,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33256883,\\\"owner_id\\\":61328625,\\\"title\\\":\\\"need python realtime developer for my company to support my project and resource\\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/need-python-realtime-developer-for\\\",\\\"currency\\\":{\\\"id\\\":11,\\\"code\\\":\\\"INR\\\",\\\"sign\\\":\\\"\\u20b9\\\",\\\"name\\\":\\\"Indian Rupee\\\",\\\"exchange_rate\\\":0.013162,\\\"country\\\":\\\"IN\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":false},\\\"jobs\\\":[{\\\"id\\\":3,\\\"name\\\":\\\"PHP\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"php\\\",\\\"local\\\":false},{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":31,\\\"name\\\":\\\"Linux\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"linux\\\",\\\"local\\\":false},{\\\"id\\\":116,\\\"name\\\":\\\"Software Architecture\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"software_architecture\\\",\\\"local\\\":false},{\\\"id\\\":440,\\\"name\\\":\\\"Arduino\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"arduino\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647801734,\\\"preview_description\\\":\\\"need technical interview qrack for few clients in python 2 to 5 yrs experence\\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":12500,\\\"maximum\\\":37500},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":5,\\\"bid_avg\\\":31500},\\\"time_submitted\\\":1647801734,\\\"time_updated\\\":1647801734,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647798106,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33256835,\\\"owner_id\\\":61328932,\\\"title\\\":\\\"Python app running on Raspberry PI\\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/Python-app-running-Raspberry\\\",\\\"currency\\\":{\\\"id\\\":1,\\\"code\\\":\\\"USD\\\",\\\"sign\\\":\\\"$\\\",\\\"name\\\":\\\"US Dollar\\\",\\\"exchange_rate\\\":1,\\\"country\\\":\\\"US\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":true},\\\"jobs\\\":[{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":901,\\\"name\\\":\\\"JSON\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"json\\\",\\\"local\\\":false},{\\\"id\\\":983,\\\"name\\\":\\\"Raspberry Pi\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"raspberry_pi\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647801077,\\\"preview_description\\\":\\\"We need an app that will check GPIO status of the RPI constantly, and according to the status will s\\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":30,\\\"maximum\\\":250},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":14,\\\"bid_avg\\\":135},\\\"time_submitted\\\":1647801077,\\\"time_updated\\\":1647801077,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647808154,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33256395,\\\"owner_id\\\":58913868,\\\"title\\\":\\\"Transmission scheduling on different Sleep and wakeup cycles [Python preferred]\\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/Transmission-scheduling-different-Sleep\\\",\\\"currency\\\":{\\\"id\\\":1,\\\"code\\\":\\\"USD\\\",\\\"sign\\\":\\\"$\\\",\\\"name\\\":\\\"US Dollar\\\",\\\"exchange_rate\\\":1,\\\"country\\\":\\\"US\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":true},\\\"jobs\\\":[{\\\"id\\\":6,\\\"name\\\":\\\"C Programming\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"c_programming\\\",\\\"local\\\":false},{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":320,\\\"name\\\":\\\"C++ Programming\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"cplusplus_programming\\\",\\\"local\\\":false},{\\\"id\\\":1636,\\\"name\\\":\\\"MATLAB\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"matlab\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647797449,\\\"preview_description\\\":\\\"I want to hire python based programmer for the following task.\\n1) Randomly generate user and transmi\\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":30,\\\"maximum\\\":250},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":11,\\\"bid_avg\\\":131.8181818181818},\\\"time_submitted\\\":1647797449,\\\"time_updated\\\":1647797449,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647793405,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33256264,\\\"owner_id\\\":61326852,\\\"title\\\":\\\"GUI application which constantly scans for traffic and analyses traffic to see if the packets being received are legit and not harmful to the user\\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/GUI-application-which-constantly-scans\\\",\\\"currency\\\":{\\\"id\\\":4,\\\"code\\\":\\\"GBP\\\",\\\"sign\\\":\\\"\\u00a3\\\",\\\"name\\\":\\\"British Pounds\\\",\\\"exchange_rate\\\":1.317788,\\\"country\\\":\\\"UK\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":false},\\\"jobs\\\":[{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":683,\\\"name\\\":\\\"Network Administration\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"network_administration\\\",\\\"local\\\":false},{\\\"id\\\":1575,\\\"name\\\":\\\"Graphical User Interface (GUI)\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"gui\\\",\\\"local\\\":false},{\\\"id\\\":1689,\\\"name\\\":\\\"Network Security\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"network_security\\\",\\\"local\\\":false},{\\\"id\\\":1961,\\\"name\\\":\\\"Wireless Network Security Analysis\\\",\\\"category\\\":{\\\"id\\\":101,\\\"name\\\":\\\"Telecommunications\\\"},\\\"seo_url\\\":\\\"wireless_network_security_analysis\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647795994,\\\"preview_description\\\":\\\"A GUI application which will be built using Python, it will constantly scans for traffic within a ne\\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":20,\\\"maximum\\\":250},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":6,\\\"bid_avg\\\":365},\\\"time_submitted\\\":1647795994,\\\"time_updated\\\":1647795994,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647798821,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33256280,\\\"owner_id\\\":61327108,\\\"title\\\":\\\"Lead Back End Developer\\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/Lead-Back-End-Developer\\\",\\\"currency\\\":{\\\"id\\\":8,\\\"code\\\":\\\"EUR\\\",\\\"sign\\\":\\\"\\u20ac\\\",\\\"name\\\":\\\"Euro\\\",\\\"exchange_rate\\\":1.105965,\\\"country\\\":\\\"EU\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":true},\\\"jobs\\\":[{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":248,\\\"name\\\":\\\"Golang\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"golang\\\",\\\"local\\\":false},{\\\"id\\\":728,\\\"name\\\":\\\"Elasticsearch\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"elasticsearch\\\",\\\"local\\\":false},{\\\"id\\\":1002,\\\"name\\\":\\\"Docker\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"docker\\\",\\\"local\\\":false},{\\\"id\\\":1254,\\\"name\\\":\\\"MongoDB\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"mongodb\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647795514,\\\"preview_description\\\":\\\"Backpacker Trail is a travel StartUp from Heidelberg, Germany. Our vision is to revolutionize the tr\\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"hourly\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":18,\\\"maximum\\\":36},\\\"hourly_project_info\\\":{\\\"commitment\\\":{\\\"hours\\\":40,\\\"interval\\\":\\\"week\\\"},\\\"duration_enum\\\":\\\"unspecified\\\"},\\\"featured\\\":true,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":15,\\\"bid_avg\\\":28.333333333333332},\\\"time_submitted\\\":1647795514,\\\"time_updated\\\":1647795514,\\\"upgrades\\\":{\\\"featured\\\":true,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647791914,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33255892,\\\"owner_id\\\":59875381,\\\"title\\\":\\\"need python developer -- 2\\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"python\\/need-python-developer-33255892\\\",\\\"currency\\\":{\\\"id\\\":1,\\\"code\\\":\\\"USD\\\",\\\"sign\\\":\\\"$\\\",\\\"name\\\":\\\"US Dollar\\\",\\\"exchange_rate\\\":1,\\\"country\\\":\\\"US\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":true},\\\"jobs\\\":[{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":113,\\\"name\\\":\\\"Django\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"django\\\",\\\"local\\\":false},{\\\"id\\\":116,\\\"name\\\":\\\"Software Architecture\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"software_architecture\\\",\\\"local\\\":false},{\\\"id\\\":292,\\\"name\\\":\\\"Machine Learning (ML)\\\",\\\"category\\\":{\\\"id\\\":5,\\\"name\\\":\\\"Engineering & Science\\\"},\\\"seo_url\\\":\\\"machine_learning\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647791832,\\\"preview_description\\\":\\\"i need a python developer, who can build me a search algorithm app that will index and rank specific\\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":10,\\\"maximum\\\":30},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":9,\\\"bid_avg\\\":2296.6666666666665},\\\"time_submitted\\\":1647791832,\\\"time_updated\\\":1647791832,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647788223,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}},{\\\"id\\\":33255758,\\\"owner_id\\\":61326724,\\\"title\\\":\\\"Very Urgent Small Java \\/ Python Project\\\",\\\"status\\\":\\\"active\\\",\\\"seo_url\\\":\\\"java\\/Very-Urgent-Small-Java-Python\\\",\\\"currency\\\":{\\\"id\\\":11,\\\"code\\\":\\\"INR\\\",\\\"sign\\\":\\\"\\u20b9\\\",\\\"name\\\":\\\"Indian Rupee\\\",\\\"exchange_rate\\\":0.013162,\\\"country\\\":\\\"IN\\\",\\\"is_external\\\":false,\\\"is_escrowcom_supported\\\":false},\\\"jobs\\\":[{\\\"id\\\":7,\\\"name\\\":\\\"Java\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"java\\\",\\\"local\\\":false},{\\\"id\\\":13,\\\"name\\\":\\\"Python\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"python\\\",\\\"local\\\":false},{\\\"id\\\":45,\\\"name\\\":\\\"J2EE\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"j_ee\\\",\\\"local\\\":false},{\\\"id\\\":116,\\\"name\\\":\\\"Software Architecture\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"software_architecture\\\",\\\"local\\\":false},{\\\"id\\\":1010,\\\"name\\\":\\\"Swing (Java)\\\",\\\"category\\\":{\\\"id\\\":1,\\\"name\\\":\\\"Websites, IT & Software\\\"},\\\"seo_url\\\":\\\"swing\\\",\\\"local\\\":false}],\\\"submitdate\\\":1647790639,\\\"preview_description\\\":\\\"Hello\\nLooking for a java \\/python Developer to work on small project with eclipse. Please apply ASAP \\\",\\\"deleted\\\":false,\\\"nonpublic\\\":false,\\\"hidebids\\\":false,\\\"type\\\":\\\"fixed\\\",\\\"bidperiod\\\":7,\\\"budget\\\":{\\\"minimum\\\":1500,\\\"maximum\\\":12500},\\\"featured\\\":false,\\\"urgent\\\":false,\\\"bid_stats\\\":{\\\"bid_count\\\":7,\\\"bid_avg\\\":8428.57142857143},\\\"time_submitted\\\":1647790639,\\\"time_updated\\\":1647790639,\\\"upgrades\\\":{\\\"featured\\\":false,\\\"sealed\\\":false,\\\"nonpublic\\\":false,\\\"fulltime\\\":false,\\\"urgent\\\":false,\\\"qualified\\\":false,\\\"NDA\\\":false,\\\"ip_contract\\\":false,\\\"non_compete\\\":false,\\\"project_management\\\":false,\\\"pf_only\\\":false},\\\"language\\\":\\\"en\\\",\\\"hireme\\\":false,\\\"frontend_project_status\\\":\\\"open\\\",\\\"location\\\":{\\\"country\\\":{}},\\\"true_location\\\":{\\\"country\\\":{}},\\\"local\\\":false,\\\"negotiated\\\":false,\\\"time_free_bids_expire\\\":1647786841,\\\"pool_ids\\\":[\\\"freelancer\\\"],\\\"enterprise_ids\\\":[],\\\"is_escrow_project\\\":false,\\\"is_seller_kyc_required\\\":false,\\\"is_buyer_kyc_required\\\":false,\\\"project_reject_reason\\\":{}}],\\\"total_count\\\":305},\\\"request_id\\\":\\\"f03b3b658037c8c2a0e2ff9cac99c299\\\"}\"";
		
		FreelancerAPIcallsService ser = mock(FreelancerAPIcallsService.class);
		//byte[] bytes = json.getBytes(StandardCharsets.UTF_8);
//		InputStream responseStream = new ByteArrayInputStream(json.getBytes()); 
//		ObjectMapper mapper = new ObjectMapper();
//	    HttpURLConnection connection = mock(HttpURLConnection.class);
//		
//		when(connection.getInputStream()).thenReturn(responseStream);
//	    when(connection.getResponseCode()).thenReturn(200);
//	    
//	    FreelancerResult res = mapper.readValue(connection.getInputStream(), FreelancerResult.class);
//		assertEquals(200,connection.getResponseCode());
//		assertEquals("success",res.status);  
//		assertEquals(305,res.result.total_count);
//		assertEquals("f03b3b658037c8c2a0e2ff9cac99c299",res.request_id);
//		
//		
//		CompletableFuture<List<Project>> future = new CompletableFuture<>();
//		
//		when(FreelancerAPIcallsService.getActiveProjects("")).thenReturn(future);
		
	}

}
